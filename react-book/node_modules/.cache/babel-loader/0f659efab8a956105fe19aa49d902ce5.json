{"ast":null,"code":"import _toConsumableArray from \"/Users/shamopoo/Desktop/github/Notes/reactBook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n// action types\nvar INIT_COMMENTS = 'INIT_COMMENTS';\nvar ADD_COMMENT = 'ADD_COMMENT';\nvar DELETE_COMMENT = 'DELETE_COMMENT';\nexport default function (state, action) {\n  if (!state) {\n    state = {\n      comments: []\n    };\n  }\n\n  switch (action.type) {\n    // 初始化评论\n    case INIT_COMMENTS:\n      return {\n        comments: action.comments // 新增评论\n\n      };\n\n    case ADD_COMMENT:\n      return {\n        comments: [].concat(_toConsumableArray(state.comments), [action.comments]) // 删除评论\n\n      };\n\n    case DELETE_COMMENT:\n      return {\n        comments: [].concat(_toConsumableArray(state.comments.slice(0, action.commentIndex)), _toConsumableArray(state.comments.slice(action.commentIndex + 1)))\n      };\n\n    default:\n      return state;\n  }\n} // action creators\n\nexport var initComments = function initComments(comments) {\n  return {\n    type: INIT_COMMENTS,\n    comments: comments\n  };\n};\nexport var addComment = function addComment(comment) {\n  return {\n    type: ADD_COMMENT,\n    comment: comment\n  };\n};\nexport var deleteComment = function deleteComment(commentIndex) {\n  return {\n    type: DELETE_COMMENT,\n    commentIndex: commentIndex\n  };\n};","map":{"version":3,"sources":["/Users/shamopoo/Desktop/github/Notes/reactBook/src/reducers/comments.js"],"names":["INIT_COMMENTS","ADD_COMMENT","DELETE_COMMENT","state","action","comments","type","slice","commentIndex","initComments","addComment","comment","deleteComment"],"mappings":";AAAA;AACA,IAAMA,aAAa,GAAG,eAAtB;AACA,IAAMC,WAAW,GAAG,aAApB;AACA,IAAMC,cAAc,GAAG,gBAAvB;AAEA,eAAe,UAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACtC,MAAI,CAACD,KAAL,EAAY;AACTA,IAAAA,KAAK,GAAG;AAAEE,MAAAA,QAAQ,EAAE;AAAZ,KAAR;AACF;;AACD,UAAQD,MAAM,CAACE,IAAf;AACM;AACF,SAAKN,aAAL;AACM,aAAO;AAAEK,QAAAA,QAAQ,EAAED,MAAM,CAACC,QAAnB,CACX;;AADW,OAAP;;AAEL,SAAKJ,WAAL;AACK,aAAO;AACLI,QAAAA,QAAQ,+BAAMF,KAAK,CAACE,QAAZ,IAAsBD,MAAM,CAACC,QAA7B,EADH,CAGX;;AAHW,OAAP;;AAIJ,SAAKH,cAAL;AACI,aAAO;AACHG,QAAAA,QAAQ,+BACDF,KAAK,CAACE,QAAN,CAAeE,KAAf,CAAqB,CAArB,EAAwBH,MAAM,CAACI,YAA/B,CADC,sBAEDL,KAAK,CAACE,QAAN,CAAeE,KAAf,CAAqBH,MAAM,CAACI,YAAP,GAAsB,CAA3C,CAFC;AADL,OAAP;;AAMJ;AACI,aAAOL,KAAP;AAlBV;AAoBD,C,CAED;;AACA,OAAO,IAAMM,YAAY,GAAG,SAAfA,YAAe,CAACJ,QAAD,EAAc;AACxC,SAAO;AAAEC,IAAAA,IAAI,EAAEN,aAAR;AAAuBK,IAAAA,QAAQ,EAARA;AAAvB,GAAP;AACD,CAFM;AAIP,OAAO,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAa;AACrC,SAAO;AAAEL,IAAAA,IAAI,EAAEL,WAAR;AAAqBU,IAAAA,OAAO,EAAPA;AAArB,GAAP;AACD,CAFM;AAIP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,YAAD,EAAkB;AAC7C,SAAO;AAAEF,IAAAA,IAAI,EAAEJ,cAAR;AAAwBM,IAAAA,YAAY,EAAZA;AAAxB,GAAP;AACD,CAFM","sourcesContent":["// action types\nconst INIT_COMMENTS = 'INIT_COMMENTS'\nconst ADD_COMMENT = 'ADD_COMMENT'\nconst DELETE_COMMENT = 'DELETE_COMMENT'\n\nexport default function (state, action) {\n  if (!state) {\n     state = { comments: [] }\n  }\n  switch (action.type) {\n        // 初始化评论\n      case INIT_COMMENTS:\n            return { comments: action.comments }\n        // 新增评论\n       case ADD_COMMENT:\n            return {\n              comments: [...state.comments, action.comments]\n            }     \n        // 删除评论\n        case DELETE_COMMENT:\n            return {\n                comments: [\n                    ...state.comments.slice(0, action.commentIndex),\n                    ...state.comments.slice(action.commentIndex + 1)\n                ]\n            }\n        default:\n            return state    \n  }\n}\n\n// action creators\nexport const initComments = (comments) => {\n  return { type: INIT_COMMENTS, comments }\n}\n\nexport const addComment = (comment) => {\n  return { type: ADD_COMMENT, comment }\n}\n\nexport const deleteComment = (commentIndex) => {\n  return { type: DELETE_COMMENT, commentIndex }\n}"]},"metadata":{},"sourceType":"module"}